echo "ğŸš€ Running pre-push checks..."

# Step 1: Format check
echo "ğŸ“ Checking code formatting..."
npm run format:check || {
  echo "âŒ Code formatting issues found. Push aborted."
  echo "ğŸ’¡ Run 'npm run format' to fix formatting issues"
  exit 1
}

# Step 2: TypeScript check
echo "ğŸ” Type checking..."
npm run type-check || {
  echo "âŒ TypeScript errors found. Push aborted."
  echo "ğŸ’¡ Run 'npm run type-check' to see type errors"
  exit 1
}

# Step 3: ESLint check
echo "ğŸ§¹ Linting..."
npm run lint || {
  echo "âŒ Linting errors found. Push aborted."
  echo "ğŸ’¡ Run 'npm run lint:fix' to auto-fix issues"
  exit 1
}

# Step 4: Security audit
echo "ğŸ”’ Security audit..."
npm audit --audit-level=moderate || {
  echo "âŒ Security vulnerabilities found. Push aborted."
  echo "ğŸ’¡ Run 'npm audit fix' to auto-fix issues"
  exit 1
}

echo "âœ… All pre-push checks passed!"
